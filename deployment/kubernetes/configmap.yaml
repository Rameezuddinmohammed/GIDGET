apiVersion: v1
kind: ConfigMap
metadata:
  name: code-intelligence-config
  namespace: code-intelligence
data:
  # Application configuration
  LOG_LEVEL: "INFO"
  ENVIRONMENT: "production"
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  
  # Database configuration
  NEO4J_URI: "bolt://neo4j-service:7687"
  NEO4J_USER: "neo4j"
  REDIS_URL: "redis://redis-service:6379"
  
  # Supabase configuration
  SUPABASE_URL: "http://postgres-service:5432"
  
  # Worker configuration
  WORKER_CONCURRENCY: "4"
  WORKER_MAX_TASKS_PER_CHILD: "1000"
  
  # Cache configuration
  CACHE_TTL_SECONDS: "3600"
  CACHE_MAX_SIZE: "1000"
  
  # Monitoring configuration
  METRICS_ENABLED: "true"
  HEALTH_CHECK_INTERVAL: "30"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: neo4j-config
  namespace: code-intelligence
data:
  NEO4J_PLUGINS: '["apoc"]'
  NEO4J_dbms_security_procedures_unrestricted: "apoc.*"
  NEO4J_dbms_memory_heap_initial__size: "512m"
  NEO4J_dbms_memory_heap_max__size: "2G"
  NEO4J_dbms_memory_pagecache_size: "1G"
  NEO4J_dbms_connector_bolt_listen__address: "0.0.0.0:7687"
  NEO4J_dbms_connector_http_listen__address: "0.0.0.0:7474"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: postgres-config
  namespace: code-intelligence
data:
  POSTGRES_DB: "code_intelligence"
  POSTGRES_USER: "postgres"
  POSTGRES_HOST_AUTH_METHOD: "trust"